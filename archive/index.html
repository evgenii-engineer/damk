<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="canonical" href="https://evgdamk.com/archive/" />
    <title>Artworks Archive — Paintings & Objects by EVG DAMK</title>
    <meta name="description"
          content="Archive of artworks by EVG DAMK including paintings, objects and visual experiments.">
    <link rel="stylesheet" href="../css/styles.css"/>
    <script data-goatcounter="https://damk.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    <link rel="icon" href="../assets/favicon.ico" type="image/x-icon"/>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "CollectionPage",
            "name": "Artworks Archive by EVG DAMK",
            "url": "https://evgdamk.com/archive/",
            "description": "Archive of paintings, handmade objects, figures and visual experiments by EVG DAMK.",
            "creator": {
                "@type": "Person",
                "name": "EVG DAMK"
            }
        }
    </script>
</head>
<body>
<header>
    <nav>
        <a href="/">about</a>
        <a href="/archive">archive</a>
        <a href="/shop">shop</a>
        <a href="/game">game</a>
    </nav>
</header>

<main>
    <h1>Artworks archive</h1>
    <p class="seo-sub">Drawings, handmade objects and visual experiments.</p>

    <div class="tabs" id="tabs">
        <button class="tab-button" data-tab="series">series</button>
        <button class="tab-button active" data-tab="canvases">canvases</button>
        <button class="tab-button" data-tab="figures">figures</button>
        <button class="tab-button" data-tab="jewelry">jewelry</button>
        <button class="tab-button" data-tab="other">other</button>
    </div>

    <div id="archive-sections">
        <section class="gallery-section" data-tab="series"></section>
        <section class="gallery-section active" data-tab="canvases"></section>
        <section class="gallery-section" data-tab="figures"></section>
        <section class="gallery-section" data-tab="jewelry"></section>
        <section class="gallery-section" data-tab="other"></section>
    </div>
</main>

<div id="image-overlay" class="hidden">
    <img id="overlay-img" src="" alt="expanded"/>
</div>

<footer>
    <img src="../assets/monkey1.png" alt="monkey" class="monkey" id="monkey"/>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const data = {
            figures: [
                '2025_figure5.jpg',
                '2025_figure4.jpg',
                '2025_figure3.jpg',
                '2025_figure2.jpg',
                '2024_figure3.jpg',
                '2024_figure2.jpg',
                '2024_figure1.jpg',
                '2023_figure1.jpg'
            ],
            canvases: [
                '2024_canvas9.jpg',
                '2024_canvas8.jpg',
                '2024_canvas7.jpg',
                '2024_canvas6.jpg',
                '2024_canvas5.jpg',
                '2024_canvas4.jpg',
                '2024_canvas3.jpg',
                '2024_canvas2.jpg',
                '2024_canvas1.jpg',
                '2023_canvas3.jpg',
                '2023_canvas2.jpg',
                '2023_canvas1.jpg'
            ],
            jewelry: [
                '2025_jewelry2.jpg',
                '2025_jewelry1.jpg'
            ],
            other: [
                '2024_other4.jpg',
                '2024_other3.jpg',
                '2024_other2.jpg',
                '2024_other1.jpg',
                '2023_other4.jpg',
                '2023_other3.jpg',
                '2023_other2.jpg',
                '2023_other1.jpg'
            ]
        };

        const seriesData = {
            hero: 'main.jpg',
            states: [
                { title: 'WEIGHT I', file: 'standing.jpg', alt: 'WEIGHT I standing state' },
                { title: 'WEIGHT II', file: 'sitting.jpg', alt: 'WEIGHT II sitting state' },
                { title: 'WEIGHT III', file: 'laying.jpg', alt: 'WEIGHT III laying state' }
            ],
            process: [
                { file: 'standing_variation.jpg', alt: 'WEIGHT standing variation' },
                { file: 'sitting_variation.jpg', alt: 'WEIGHT sitting variation' },
                { file: 'laying_variation.jpg', alt: 'WEIGHT laying variation' }
            ]
        };

        const loadedTabs = new Set();

        function createArchiveImage(src, alt, loading = 'lazy') {
            const img = new Image();
            img.src = src;
            img.alt = alt;
            img.loading = loading;
            img.decoding = 'async';
            img.fetchPriority = 'low';
            img.width = 1280;
            img.height = 1600;
            return img;
        }

        function renderSeries(section) {
            const layout = document.createElement('div');
            layout.className = 'series-layout';

            const textBlock = document.createElement('article');
            textBlock.className = 'series-text';
            textBlock.innerHTML = `
                <h2>WEIGHT</h2>
                <p class="series-lead">WEIGHT is a sculptural series about a form under pressure.</p>
                <p>The same figure appears in three different states. What changes is not the body, but its ability to hold itself. The material defines the posture and fixes the moment when the form begins to lose stability.</p>
                <p>There is no movement. The figure does not resist. It only responds to the force acting on it.</p>
                <p>The work does not show the moment of collapse. It shows what remains after. The form is still present, but its strength is no longer the same.</p>
                <p class="series-end">WEIGHT explores the limit between holding and giving in.</p>
            `;
            layout.appendChild(textBlock);

            const hero = document.createElement('figure');
            hero.className = 'series-hero';
            const heroLabel = document.createElement('figcaption');
            heroLabel.className = 'series-label';
            heroLabel.textContent = 'hero image - whole series';
            const heroImg = createArchiveImage(
                `../assets/archive/series/weight/optimized/${seriesData.hero}`,
                'WEIGHT full series hero image',
                'eager'
            );
            heroImg.fetchPriority = 'high';
            hero.appendChild(heroLabel);
            hero.appendChild(heroImg);
            layout.appendChild(hero);

            const statesGrid = document.createElement('div');
            statesGrid.className = 'series-states';
            seriesData.states.forEach((state) => {
                const card = document.createElement('figure');
                card.className = 'series-state';
                const img = createArchiveImage(
                    `../assets/archive/series/weight/optimized/${state.file}`,
                    state.alt
                );
                const caption = document.createElement('figcaption');
                caption.className = 'series-state-title';
                caption.textContent = state.title;
                card.appendChild(img);
                card.appendChild(caption);
                statesGrid.appendChild(card);
            });
            layout.appendChild(statesGrid);

            const divider = document.createElement('hr');
            divider.className = 'series-divider';
            layout.appendChild(divider);

            const processHead = document.createElement('div');
            processHead.className = 'series-process-head';
            processHead.innerHTML = `
                <h3>Process / variations</h3>
                <p>additional photos, details, variations.</p>
            `;
            layout.appendChild(processHead);

            const processGrid = document.createElement('div');
            processGrid.className = 'series-process-grid';
            seriesData.process.forEach((item) => {
                const card = document.createElement('figure');
                card.className = 'series-process-item';
                const img = createArchiveImage(
                    `../assets/archive/series/weight/optimized/${item.file}`,
                    item.alt
                );
                card.appendChild(img);
                processGrid.appendChild(card);
            });
            layout.appendChild(processGrid);

            section.appendChild(layout);
        }

        function loadImagesFor(tab) {
            if (loadedTabs.has(tab)) return;
            loadedTabs.add(tab);

            const section = document.querySelector(`.gallery-section[data-tab="${tab}"]`);
            if (!section) return;

            if (tab === 'series') {
                renderSeries(section);
                return;
            }

            const grid = document.createElement('div');
            grid.className = 'gallery';
            section.appendChild(grid);

            const files = data[tab];
            const pageSize = 6;
            let currentPage = 0;

            const sentinel = document.createElement('div');
            sentinel.className = 'scroll-sentinel';
            section.appendChild(sentinel);

            function loadNextPage() {
                const start = currentPage * pageSize;
                const end = start + pageSize;
                const chunk = files.slice(start, end);

                chunk.forEach((filename) => {
                    const img = createArchiveImage(
                        `../assets/archive/${tab}/optimized/${filename}`,
                        `${tab} artwork ${filename}`
                    );

                    const wrapper = document.createElement('div');
                    wrapper.className = 'gallery-item';

                    const caption = document.createElement('div');
                    caption.className = 'caption';
                    const [year] = filename.split('_');
                    caption.textContent = year;

                    wrapper.appendChild(img);
                    wrapper.appendChild(caption);
                    grid.appendChild(wrapper);
                });

                currentPage++;
                if (currentPage * pageSize >= files.length) {
                    observer.disconnect();
                    sentinel.remove();
                }
            }

            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                    loadNextPage();
                }
            }, {
                rootMargin: '200px',
            });

            loadNextPage();
            observer.observe(sentinel);
        }

        const buttons = document.querySelectorAll('.tab-button');
        const sections = document.querySelectorAll('.gallery-section');

        function setActiveTab(tab, updateHash = false) {
            const hasTab = Array.from(buttons).some(b => b.dataset.tab === tab);
            const targetTab = hasTab ? tab : 'canvases';

            buttons.forEach(b => b.classList.toggle('active', b.dataset.tab === targetTab));
            sections.forEach(s => {
                s.classList.toggle('active', s.dataset.tab === targetTab);
            });
            loadImagesFor(targetTab);

            if (updateHash) {
                history.replaceState(null, '', `#${targetTab}`);
            }
        }

        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                setActiveTab(btn.dataset.tab, true);
            });
        });

        const initialFromHash = window.location.hash.replace('#', '');
        setActiveTab(initialFromHash || 'canvases');

        window.addEventListener('hashchange', () => {
            const tabFromHash = window.location.hash.replace('#', '');
            if (tabFromHash) setActiveTab(tabFromHash);
        });

        // обезьянка
        const monkey = document.getElementById('monkey');
        const images = ['monkey1.png', 'monkey2.png', 'monkey3.png', 'monkey4.png'];
        let clickable = true;

        monkey.addEventListener('click', () => {
            if (!clickable) return;
            const current = monkey.getAttribute('src').split('/').pop();
            const others = images.filter(img => img !== current);
            const next = others[Math.floor(Math.random() * others.length)];
            const tempImg = new Image();
            tempImg.onload = () => {
                monkey.setAttribute('src', '../assets/' + next);
                if (next === 'monkey3.png') {
                    clickable = false;
                    monkey.style.transition = 'none';
                    monkey.style.transform = 'rotate(0deg) scale(1)';
                    void monkey.offsetWidth;
                    monkey.style.transition = 'transform 1.8s ease-in-out';
                    monkey.style.transform = 'rotate(1440deg) scale(2.5)';
                    setTimeout(() => {
                        monkey.style.transform = 'rotate(0deg) scale(1)';
                        clickable = true;
                    }, 2000);
                }
            };
            tempImg.src = '../assets/' + next;
        });

        // overlay при клике на картинку
        const overlay = document.getElementById('image-overlay');
        const overlayImg = document.getElementById('overlay-img');

        document.getElementById('archive-sections').addEventListener('click', e => {
            if (e.target.tagName === 'IMG') {
                overlayImg.src = e.target.src;
                overlay.classList.remove('hidden');
            }
        });

        overlay.addEventListener('click', () => {
            overlay.classList.add('hidden');
            overlayImg.src = '';
        });
    });
</script>
</body>
</html>
